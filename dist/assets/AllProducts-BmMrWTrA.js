import{j as e}from"./ui-vendor-CbTtZHsW.js";import{j as s,a as t,L as r}from"./react-vendor-1XlI0agO.js";import{T as a,H as o,F as i}from"./Footer-Byqae03W.js";import{P as n}from"./ProductCard-izrUIa5I.js";import{d,u as l,a as c,b as m}from"./useProducts-Dd0Ob86o.js";import{P as p,a as j,b as x,c as h,d as u,e as f}from"./pagination-DkFlfrEC.js";import{C as g}from"./chevron-left-CZa2LEKQ.js";import{L as v}from"./index-BWpasF73.js";import"./phone-CN7aDeEm.js";import"./instagram-DzHnDay_.js";import"./button-D-ffmNcE.js";import"./input-m9ePOgnC.js";import"./useCategories-CVN9Txt_.js";import"./query-vendor-DL9dZapS.js";import"./trash-2-B78Q9GXL.js";import"./plus-CCAUwyXe.js";import"./search-BmT2NVnk.js";import"./shopping-cart-D1jdCj2s.js";import"./menu-CfYcmfj3.js";import"./chevron-down-B5LJPQC6.js";import"./map-pin-FfxozQRU.js";import"./mail-Bi5-Lunt.js";import"./chevron-right-DqnxfF0a.js";const N=()=>{const[N,y]=s(),b=N.get("section"),P=parseInt(N.get("page")||"1",10),[C,L]=t.useState(P);let w="جميع المنتجات",S="Tous les Produits";const{data:T,isLoading:k,error:A}=d({page:C,pageSize:16}),{data:D,isLoading:F,error:M}=l(),{data:z,isLoading:H,error:I}=c(),{data:V,isLoading:q,error:B}=m();let E=[],G=!1,J=null,K=0;"featured"===b?(E=D||[],K=E.length,w="منتجات مميزة",S="Produits en Vedette",G=F,J=M):"bestsellers"===b?(E=z||[],K=E.length,w="الأكثر مبيعاً",S="Meilleures Ventes",G=H,J=I):"promo"===b?(E=V||[],K=E.length,w="عروض خاصة",S="Promotions Spéciales",G=q,J=B):(E=T?.data||[],K=T?.count||0,w="جميع المنتجات",S="Tous les Produits",G=k,J=A);const O=Math.ceil(K/16),Q=e=>{e<1||e>O||(L(e),y(s=>(s.set("page",e.toString()),s)),window.scrollTo(0,0))};return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(a,{}),e.jsx(o,{}),e.jsxs("main",{className:"flex-1",children:[e.jsx("div",{className:"bg-muted/50 py-3",children:e.jsx("div",{className:"container",children:e.jsxs("nav",{className:"flex items-center gap-2 text-sm font-body text-muted-foreground",children:[e.jsx(r,{to:"/",className:"hover:text-primary transition-colors",children:"الرئيسية"}),e.jsx(g,{className:"w-4 h-4"}),e.jsx("span",{className:"text-foreground",children:w})]})})}),e.jsx("section",{className:"py-12",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-arabic-display font-bold text-secondary",children:w}),e.jsx("p",{className:"text-muted-foreground font-french mt-1",children:S}),!G&&!J&&e.jsxs("p",{className:"text-sm text-muted-foreground font-body mt-2",children:[K," منتج"]})]}),G?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(v,{className:"w-8 h-8 animate-spin text-primary"})}):J?e.jsx("div",{className:"text-center py-12",children:e.jsxs("p",{className:"text-destructive font-body",children:["حدث خطأ أثناء تحميل المنتجات: ",J.message]})}):E.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:E.map(s=>e.jsx(n,{product:s},s.id))}),!b&&O>1&&e.jsx("div",{className:"mt-12",children:e.jsx(p,{children:e.jsxs(j,{children:[e.jsx(x,{children:e.jsx(h,{href:"#",onClick:e=>{e.preventDefault(),Q(C-1)},className:1===C?"pointer-events-none text-muted-foreground":""})}),[...Array(O)].map((s,t)=>e.jsx(x,{children:e.jsx(u,{href:"#",onClick:e=>{e.preventDefault(),Q(t+1)},isActive:C===t+1,children:t+1})},t)),e.jsx(x,{children:e.jsx(f,{href:"#",onClick:e=>{e.preventDefault(),Q(C+1)},className:C===O?"pointer-events-none text-muted-foreground":""})})]})})})]}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground font-body",children:"لا توجد منتجات متوفرة حالياً"})})]})})]}),e.jsx(i,{})]})};export{N as default};
