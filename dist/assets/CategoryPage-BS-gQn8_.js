import{j as e}from"./ui-vendor-CbTtZHsW.js";import{i as s,j as r,a,L as t}from"./react-vendor-1XlI0agO.js";import{T as i,H as n,F as c}from"./Footer-Byqae03W.js";import{P as l}from"./ProductCard-izrUIa5I.js";import{u as o}from"./useCategories-CVN9Txt_.js";import{e as m}from"./useProducts-Dd0Ob86o.js";import{P as d,a as x,b as j,c as p,d as h,e as f}from"./pagination-DkFlfrEC.js";import{L as g}from"./index-BWpasF73.js";import{C as u}from"./chevron-left-CZa2LEKQ.js";import"./phone-CN7aDeEm.js";import"./instagram-DzHnDay_.js";import"./button-D-ffmNcE.js";import"./input-m9ePOgnC.js";import"./trash-2-B78Q9GXL.js";import"./plus-CCAUwyXe.js";import"./search-BmT2NVnk.js";import"./shopping-cart-D1jdCj2s.js";import"./menu-CfYcmfj3.js";import"./chevron-down-B5LJPQC6.js";import"./map-pin-FfxozQRU.js";import"./mail-Bi5-Lunt.js";import"./query-vendor-DL9dZapS.js";import"./chevron-right-DqnxfF0a.js";const N=()=>{const{categoryId:N}=s(),[v,y]=r(),b=parseInt(v.get("page")||"1",10),[w,C]=a.useState(b),{categories:L,isLoading:P,error:I}=o(),{data:S,isLoading:_,error:k}=m({categoryId:N,page:w,pageSize:16}),{data:z=[],count:A=0}=S||{},D=L?.find(e=>e.id===N),F=P||_,H=I||k,M=Math.ceil(A/16),T=e=>{e<1||e>M||(C(e),y({page:e.toString()}),window.scrollTo(0,0))};return F&&!D?e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(i,{}),e.jsx(n,{}),e.jsx("main",{className:"flex-1 flex items-center justify-center",children:e.jsx(g,{className:"w-8 h-8 animate-spin text-primary"})}),e.jsx(c,{})]}):H?e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(i,{}),e.jsx(n,{}),e.jsx("main",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-arabic-display mb-4",children:"خطأ في تحميل البيانات"}),e.jsx("p",{className:"text-destructive font-body",children:H.message}),e.jsx(t,{to:"/",className:"text-primary hover:underline font-body",children:"العودة للرئيسية"})]})}),e.jsx(c,{})]}):D?e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(i,{}),e.jsx(n,{}),e.jsxs("main",{className:"flex-1",children:[e.jsx("div",{className:"bg-muted/50 py-3",children:e.jsx("div",{className:"container",children:e.jsxs("nav",{className:"flex items-center gap-2 text-sm font-body text-muted-foreground",children:[e.jsx(t,{to:"/",className:"hover:text-primary transition-colors",children:"الرئيسية"}),e.jsx(u,{className:"w-4 h-4"}),e.jsx("span",{className:"text-foreground",children:D.name_ar})]})})}),e.jsxs("section",{className:"relative h-[200px] md:h-[250px] overflow-hidden",children:[e.jsx("img",{loading:"lazy",decoding:"async",src:D.image||"/placeholder.svg",alt:D.name_ar,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-secondary/60 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-arabic-display font-bold text-primary-foreground mb-2",children:D.name_ar}),e.jsx("p",{className:"text-lg font-french text-primary-foreground/80",children:D.name_fr}),e.jsxs("p",{className:"text-sm font-body text-primary-foreground/70 mt-2",children:[A," منتج"]})]})})]}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container",children:_?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(g,{className:"w-8 h-8 animate-spin text-primary"})}):z&&z.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:z.map(s=>e.jsx(l,{product:s},s.id))}),M>1&&e.jsx("div",{className:"mt-12",children:e.jsx(d,{children:e.jsxs(x,{children:[e.jsx(j,{children:e.jsx(p,{href:"#",onClick:e=>{e.preventDefault(),T(w-1)},className:1===w?"pointer-events-none text-muted-foreground":""})}),[...Array(M)].map((s,r)=>e.jsx(j,{children:e.jsx(h,{href:"#",onClick:e=>{e.preventDefault(),T(r+1)},isActive:w===r+1,children:r+1})},r)),e.jsx(j,{children:e.jsx(f,{href:"#",onClick:e=>{e.preventDefault(),T(w+1)},className:w===M?"pointer-events-none text-muted-foreground":""})})]})})})]}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground font-body",children:"لا توجد منتجات في هذا القسم حالياً"})})})})]}),e.jsx(c,{})]}):e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(i,{}),e.jsx(n,{}),e.jsx("main",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-arabic-display mb-4",children:"القسم غير موجود"}),e.jsx(t,{to:"/",className:"text-primary hover:underline font-body",children:"العودة للرئيسية"})]})}),e.jsx(c,{})]})};export{N as default};
