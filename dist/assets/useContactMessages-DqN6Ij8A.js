import{u as e,b as s,c as a}from"./query-vendor-DL9dZapS.js";import{s as t}from"./index-BWpasF73.js";function r(){const r=e(),{data:n,isLoading:o,error:c}=s({queryKey:["contact-messages"],queryFn:async()=>{const{data:e,error:s}=await t.from("contact_messages").select("*").order("created_at",{ascending:!1});if(s)throw new Error(s.message);return e||[]}}),i=a({mutationFn:async e=>{const{data:s,error:a}=await t.from("contact_messages").insert(e).select().single();if(a)throw new Error(a.message);return s},onSuccess:()=>{r.invalidateQueries({queryKey:["contact-messages"]})}}),u=a({mutationFn:async({id:e,updatedFields:s})=>{const{data:a,error:r}=await t.from("contact_messages").update(s).eq("id",e).select().single();if(r)throw new Error(r.message);return a},onSuccess:()=>{r.invalidateQueries({queryKey:["contact-messages"]})}}),m=a({mutationFn:async e=>{const{error:s}=await t.from("contact_messages").delete().eq("id",e);if(s)throw new Error(s.message)},onSuccess:()=>{r.invalidateQueries({queryKey:["contact-messages"]})}});return{messages:n,isLoading:o,error:c,sendMessage:i.mutateAsync,updateMessage:u.mutateAsync,deleteMessage:m.mutateAsync}}export{r as u};
