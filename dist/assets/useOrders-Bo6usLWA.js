import{j as e,H as t,k as n,b as r,J as o,c as a,w as s,u as i,P as l,e as d,A as u,d as c,g as f,K as p,M as v,L as m,N as h,D as y,C as b,l as g}from"./ui-vendor-CbTtZHsW.js";import{a as x}from"./react-vendor-1XlI0agO.js";import{t as w,g as _,s as j,h as N,i as D,j as M,k,l as C,n as P,f as O,o as S,p as F,q as E,r as L,u as W}from"./format-v08Horlk.js";import{e as I,s as R}from"./index-BWpasF73.js";import{b as A}from"./button-D-ffmNcE.js";import{C as Y}from"./chevron-right-DqnxfF0a.js";import{C as B}from"./chevron-left-CZa2LEKQ.js";import{u as T,c as q,b as K}from"./query-vendor-DL9dZapS.js";function H(e,t){const n=w(e);return isNaN(t)?_(e,NaN):t?(n.setDate(n.getDate()+t),n):n}function $(e,t){const n=w(e);if(isNaN(t))return _(e,NaN);if(!t)return n;const r=n.getDate(),o=_(e,n.getTime());o.setMonth(n.getMonth()+t+1,0);return r>=o.getDate()?o:(n.setFullYear(o.getFullYear(),o.getMonth(),r),n)}function z(e,t){return H(e,7*t)}function Q(e,t){return $(e,12*t)}function U(e,t){return+j(e)===+j(t)}function Z(e,t){const n=w(e),r=w(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}function V(e){const t=w(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function G(e){const t=w(e);return t.setDate(1),t.setHours(0,0,0,0),t}function J(e,t){const n=k(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=w(e),a=o.getDay(),s=6+(a<r?-7:0)-(a-r);return o.setDate(o.getDate()+s),o.setHours(23,59,59,999),o}function X(e){return J(e,{weekStartsOn:1})}function ee(e,t){return function(e,t,n){const r=N(e,n),o=N(t,n),a=+r-D(r),s=+o-D(o);return Math.round((a-s)/M)}(function(e){const t=w(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}(e),G(e),t)+1}function te(e,t){const n=w(e),r=w(t);return n.getTime()>r.getTime()}function ne(e,t){return+w(e)<+w(t)}function re(e,t){const n=w(e),r=w(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function oe(e,t){return H(e,-t)}function ae(e,t){const n=w(e),r=n.getFullYear(),o=n.getDate(),a=_(e,0);a.setFullYear(r,t,15),a.setHours(0,0,0,0);const s=function(e){const t=w(e),n=t.getFullYear(),r=t.getMonth(),o=_(e,0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}(a);return n.setMonth(t,Math.min(o,s)),n}function se(e,t){const n=w(e);return isNaN(+n)?_(e,NaN):(n.setFullYear(t),n)}var ie=function(){return ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ie.apply(this,arguments)};function le(e,t,n){for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function de(e){return"multiple"===e.mode}function ue(e){return"range"===e.mode}function ce(e){return"single"===e.mode}"function"==typeof SuppressedError&&SuppressedError;var fe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};var pe=Object.freeze({__proto__:null,formatCaption:function(e,t){return O(e,"LLLL y",t)},formatDay:function(e,t){return O(e,"d",t)},formatMonthCaption:function(e,t){return O(e,"LLLL",t)},formatWeekNumber:function(e){return"".concat(e)},formatWeekdayName:function(e,t){return O(e,"cccccc",t)},formatYearCaption:function(e,t){return O(e,"yyyy",t)}}),ve=Object.freeze({__proto__:null,labelDay:function(e,t,n){return O(e,"do MMMM (EEEE)",n)},labelMonthDropdown:function(){return"Month: "},labelNext:function(){return"Go to next month"},labelPrevious:function(){return"Go to previous month"},labelWeekNumber:function(e){return"Week n. ".concat(e)},labelWeekday:function(e,t){return O(e,"cccc",t)},labelYearDropdown:function(){return"Year: "}});var me=x.createContext(void 0);function he(t){var n,r,o=t.initialProps,a={captionLayout:"buttons",classNames:fe,formatters:pe,labels:ve,locale:C,modifiersClassNames:{},modifiers:{},numberOfMonths:1,styles:{},today:new Date,mode:"default"},s=function(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,o=e.toMonth,a=e.fromDate,s=e.toDate;return r?a=G(r):t&&(a=new Date(t,0,1)),o?s=V(o):n&&(s=new Date(n,11,31)),{fromDate:a?j(a):void 0,toDate:s?j(s):void 0}}(o),i=s.fromDate,l=s.toDate,d=null!==(n=o.captionLayout)&&void 0!==n?n:a.captionLayout;"buttons"===d||i&&l||(d="buttons"),(ce(o)||de(o)||ue(o))&&(r=o.onSelect);var u=ie(ie(ie({},a),o),{captionLayout:d,classNames:ie(ie({},a.classNames),o.classNames),components:ie({},o.components),formatters:ie(ie({},a.formatters),o.formatters),fromDate:i,labels:ie(ie({},a.labels),o.labels),mode:o.mode||a.mode,modifiers:ie(ie({},a.modifiers),o.modifiers),modifiersClassNames:ie(ie({},a.modifiersClassNames),o.modifiersClassNames),onSelect:r,styles:ie(ie({},a.styles),o.styles),toDate:l});return e.jsx(me.Provider,{value:u,children:t.children})}function ye(){var e=x.useContext(me);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function be(t){var n=ye(),r=n.locale,o=n.classNames,a=n.styles,s=n.formatters.formatCaption;return e.jsx("div",{className:o.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:r})})}function ge(t){return e.jsx("svg",ie({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function xe(t){var n,r,o=t.onChange,a=t.value,s=t.children,i=t.caption,l=t.className,d=t.style,u=ye(),c=null!==(r=null===(n=u.components)||void 0===n?void 0:n.IconDropdown)&&void 0!==r?r:ge;return e.jsxs("div",{className:l,style:d,children:[e.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:o,children:s}),e.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,e.jsx(c,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function we(t){var n,r=ye(),o=r.fromDate,a=r.toDate,s=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,d=r.classNames,u=r.components,c=r.labels.labelMonthDropdown;if(!o)return e.jsx(e.Fragment,{});if(!a)return e.jsx(e.Fragment,{});var f=[];if(function(e,t){const n=w(e),r=w(t);return n.getFullYear()===r.getFullYear()}(o,a))for(var p=G(o),v=o.getMonth();v<=a.getMonth();v++)f.push(ae(p,v));else for(p=G(new Date),v=0;v<=11;v++)f.push(ae(p,v));var m=null!==(n=null==u?void 0:u.Dropdown)&&void 0!==n?n:xe;return e.jsx(m,{name:"months","aria-label":c(),className:d.dropdown_month,style:s.dropdown_month,onChange:function(e){var n=Number(e.target.value),r=ae(G(t.displayMonth),n);t.onChange(r)},value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:i}),children:f.map(function(t){return e.jsx("option",{value:t.getMonth(),children:l(t,{locale:i})},t.getMonth())})})}function _e(t){var n,r=t.displayMonth,o=ye(),a=o.fromDate,s=o.toDate,i=o.locale,l=o.styles,d=o.classNames,u=o.components,c=o.formatters.formatYearCaption,f=o.labels.labelYearDropdown,p=[];if(!a)return e.jsx(e.Fragment,{});if(!s)return e.jsx(e.Fragment,{});for(var v=a.getFullYear(),m=s.getFullYear(),h=v;h<=m;h++)p.push(se(S(new Date),h));var y=null!==(n=null==u?void 0:u.Dropdown)&&void 0!==n?n:xe;return e.jsx(y,{name:"years","aria-label":f(),className:d.dropdown_year,style:l.dropdown_year,onChange:function(e){var n=se(G(r),Number(e.target.value));t.onChange(n)},value:r.getFullYear(),caption:c(r,{locale:i}),children:p.map(function(t){return e.jsx("option",{value:t.getFullYear(),children:c(t,{locale:i})},t.getFullYear())})})}function je(){var e=ye(),t=function(e){var t=e.month,n=e.defaultMonth,r=e.today,o=t||n||r||new Date,a=e.toDate,s=e.fromDate,i=e.numberOfMonths,l=void 0===i?1:i;return a&&Z(a,o)<0&&(o=$(a,-1*(l-1))),s&&Z(o,s)<0&&(o=s),G(o)}(e),n=function(e,t){var n=x.useState(e),r=n[0];return[void 0===t?r:t,n[1]]}(t,e.month),r=n[0],o=n[1];return[r,function(t){var n;if(!e.disableNavigation){var r=G(t);o(r),null===(n=e.onMonthChange)||void 0===n||n.call(e,r)}}]}var Ne=x.createContext(void 0);function De(t){var n=ye(),r=je(),o=r[0],a=r[1],s=function(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,o=G(e),a=Z(G($(o,r)),o),s=[],i=0;i<a;i++){var l=$(o,i);s.push(l)}return n&&(s=s.reverse()),s}(o,n),i=function(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,o=t.numberOfMonths,a=void 0===o?1:o,s=r?a:1,i=G(e);if(!n)return $(i,s);if(!(Z(n,e)<a))return $(i,s)}}(o,n),l=function(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,o=t.numberOfMonths,a=r?void 0===o?1:o:1,s=G(e);if(!n)return $(s,-a);if(!(Z(s,n)<=0))return $(s,-a)}}(o,n),d=function(e){return s.some(function(t){return re(e,t)})},u={currentMonth:o,displayMonths:s,goToMonth:a,goToDate:function(e,t){d(e)||(t&&ne(e,t)?a($(e,1+-1*n.numberOfMonths)):a(e))},previousMonth:l,nextMonth:i,isDateDisplayed:d};return e.jsx(Ne.Provider,{value:u,children:t.children})}function Me(){var e=x.useContext(Ne);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function ke(t){var n,r=ye(),o=r.classNames,a=r.styles,s=r.components,i=Me().goToMonth,l=function(e){i($(e,t.displayIndex?-t.displayIndex:0))},d=null!==(n=null==s?void 0:s.CaptionLabel)&&void 0!==n?n:be,u=e.jsx(d,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:o.caption_dropdowns,style:a.caption_dropdowns,children:[e.jsx("div",{className:o.vhidden,children:u}),e.jsx(we,{onChange:l,displayMonth:t.displayMonth}),e.jsx(_e,{onChange:l,displayMonth:t.displayMonth})]})}function Ce(t){return e.jsx("svg",ie({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Pe(t){return e.jsx("svg",ie({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Oe=x.forwardRef(function(t,n){var r=ye(),o=r.classNames,a=r.styles,s=[o.button_reset,o.button];t.className&&s.push(t.className);var i=s.join(" "),l=ie(ie({},a.button_reset),a.button);return t.style&&Object.assign(l,t.style),e.jsx("button",ie({},t,{ref:n,type:"button",className:i,style:l}))});function Se(t){var n,r,o=ye(),a=o.dir,s=o.locale,i=o.classNames,l=o.styles,d=o.labels,u=d.labelPrevious,c=d.labelNext,f=o.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var p=u(t.previousMonth,{locale:s}),v=[i.nav_button,i.nav_button_previous].join(" "),m=c(t.nextMonth,{locale:s}),h=[i.nav_button,i.nav_button_next].join(" "),y=null!==(n=null==f?void 0:f.IconRight)&&void 0!==n?n:Pe,b=null!==(r=null==f?void 0:f.IconLeft)&&void 0!==r?r:Ce;return e.jsxs("div",{className:i.nav,style:l.nav,children:[!t.hidePrevious&&e.jsx(Oe,{name:"previous-month","aria-label":p,className:v,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:"rtl"===a?e.jsx(y,{className:i.nav_icon,style:l.nav_icon}):e.jsx(b,{className:i.nav_icon,style:l.nav_icon})}),!t.hideNext&&e.jsx(Oe,{name:"next-month","aria-label":m,className:h,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:"rtl"===a?e.jsx(b,{className:i.nav_icon,style:l.nav_icon}):e.jsx(y,{className:i.nav_icon,style:l.nav_icon})})]})}function Fe(t){var n=ye().numberOfMonths,r=Me(),o=r.previousMonth,a=r.nextMonth,s=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(e){return re(t.displayMonth,e)}),d=0===l,u=l===i.length-1,c=n>1&&(d||!u),f=n>1&&(u||!d);return e.jsx(Se,{displayMonth:t.displayMonth,hideNext:c,hidePrevious:f,nextMonth:a,previousMonth:o,onPreviousClick:function(){o&&s(o)},onNextClick:function(){a&&s(a)}})}function Ee(t){var n,r,o=ye(),a=o.classNames,s=o.disableNavigation,i=o.styles,l=o.captionLayout,d=o.components,u=null!==(n=null==d?void 0:d.CaptionLabel)&&void 0!==n?n:be;return r=s?e.jsx(u,{id:t.id,displayMonth:t.displayMonth}):"dropdown"===l?e.jsx(ke,{displayMonth:t.displayMonth,id:t.id}):"dropdown-buttons"===l?e.jsxs(e.Fragment,{children:[e.jsx(ke,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(Fe,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):e.jsxs(e.Fragment,{children:[e.jsx(u,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(Fe,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:a.caption,style:i.caption,children:r})}function Le(t){var n=ye(),r=n.footer,o=n.styles,a=n.classNames.tfoot;return r?e.jsx("tfoot",{className:a,style:o.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:r})})}):e.jsx(e.Fragment,{})}function We(){var t=ye(),n=t.classNames,r=t.styles,o=t.showWeekNumber,a=t.locale,s=t.weekStartsOn,i=t.ISOWeek,l=t.formatters.formatWeekdayName,d=t.labels.labelWeekday,u=function(e,t,n){for(var r=n?F(new Date):N(new Date,{locale:e,weekStartsOn:t}),o=[],a=0;a<7;a++){var s=H(r,a);o.push(s)}return o}(a,s,i);return e.jsxs("tr",{style:r.head_row,className:n.head_row,children:[o&&e.jsx("td",{style:r.head_cell,className:n.head_cell}),u.map(function(t,o){return e.jsx("th",{scope:"col",className:n.head_cell,style:r.head_cell,"aria-label":d(t,{locale:a}),children:l(t,{locale:a})},o)})]})}function Ie(){var t,n=ye(),r=n.classNames,o=n.styles,a=n.components,s=null!==(t=null==a?void 0:a.HeadRow)&&void 0!==t?t:We;return e.jsx("thead",{style:o.head,className:r.head,children:e.jsx(s,{})})}function Re(t){var n=ye(),r=n.locale,o=n.formatters.formatDay;return e.jsx(e.Fragment,{children:o(t.date,{locale:r})})}var Ae=x.createContext(void 0);function Ye(t){if(!de(t.initialProps)){return e.jsx(Ae.Provider,{value:{selected:void 0,modifiers:{disabled:[]}},children:t.children})}return e.jsx(Be,{initialProps:t.initialProps,children:t.children})}function Be(t){var n=t.initialProps,r=t.children,o=n.selected,a=n.min,s=n.max,i={disabled:[]};o&&i.disabled.push(function(e){var t=s&&o.length>s-1,n=o.some(function(t){return U(t,e)});return Boolean(t&&!n)});var l={selected:o,onDayClick:function(e,t,r){var i,l;if((null===(i=n.onDayClick)||void 0===i||i.call(n,e,t,r),!Boolean(t.selected&&a&&(null==o?void 0:o.length)===a))&&!Boolean(!t.selected&&s&&(null==o?void 0:o.length)===s)){var d=o?le([],o):[];if(t.selected){var u=d.findIndex(function(t){return U(e,t)});d.splice(u,1)}else d.push(e);null===(l=n.onSelect)||void 0===l||l.call(n,d,e,t,r)}},modifiers:i};return e.jsx(Ae.Provider,{value:l,children:r})}function Te(){var e=x.useContext(Ae);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}var qe,Ke,He=x.createContext(void 0);function $e(t){if(!ue(t.initialProps)){return e.jsx(He.Provider,{value:{selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}},children:t.children})}return e.jsx(ze,{initialProps:t.initialProps,children:t.children})}function ze(t){var n=t.initialProps,r=t.children,o=n.selected,a=o||{},s=a.from,i=a.to,l=n.min,d=n.max,u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(u.range_start=[s],i?(u.range_end=[i],U(s,i)||(u.range_middle=[{after:s,before:i}])):u.range_end=[s]):i&&(u.range_start=[i],u.range_end=[i]),l&&(s&&!i&&u.disabled.push({after:oe(s,l-1),before:H(s,l-1)}),s&&i&&u.disabled.push({after:s,before:H(s,l-1)}),!s&&i&&u.disabled.push({after:oe(i,l-1),before:H(i,l-1)})),d){if(s&&!i&&(u.disabled.push({before:H(s,1-d)}),u.disabled.push({after:H(s,d-1)})),s&&i){var c=d-(P(i,s)+1);u.disabled.push({before:oe(s,c)}),u.disabled.push({after:H(i,c)})}!s&&i&&(u.disabled.push({before:H(i,1-d)}),u.disabled.push({after:H(i,d-1)}))}return e.jsx(He.Provider,{value:{selected:o,onDayClick:function(e,t,r){var a,s;null===(a=n.onDayClick)||void 0===a||a.call(n,e,t,r);var i=function(e,t){var n=t||{},r=n.from,o=n.to;if(r&&o){if(U(o,e)&&U(r,e))return;if(U(o,e))return{from:o,to:void 0};if(U(r,e))return;return te(r,e)?{from:e,to:o}:{from:r,to:e}}return o?te(e,o)?{from:o,to:e}:{from:e,to:o}:r?ne(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}(e,o);null===(s=n.onSelect)||void 0===s||s.call(n,i,e,t,r)},modifiers:u},children:r})}function Qe(){var e=x.useContext(He);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Ue(e){return Array.isArray(e)?le([],e):void 0!==e?[e]:[]}(Ke=qe||(qe={})).Outside="outside",Ke.Disabled="disabled",Ke.Selected="selected",Ke.Hidden="hidden",Ke.Today="today",Ke.RangeStart="range_start",Ke.RangeEnd="range_end",Ke.RangeMiddle="range_middle";var Ze=qe.Selected,Ve=qe.Disabled,Ge=qe.Hidden,Je=qe.Today,Xe=qe.RangeEnd,et=qe.RangeMiddle,tt=qe.RangeStart,nt=qe.Outside;var rt=x.createContext(void 0);function ot(t){var n=ye(),r=function(e,t,n){var r,o=((r={})[Ze]=Ue(e.selected),r[Ve]=Ue(e.disabled),r[Ge]=Ue(e.hidden),r[Je]=[e.today],r[Xe]=[],r[et]=[],r[tt]=[],r[nt]=[],r);return e.fromDate&&o[Ve].push({before:e.fromDate}),e.toDate&&o[Ve].push({after:e.toDate}),de(e)?o[Ve]=o[Ve].concat(t.modifiers[Ve]):ue(e)&&(o[Ve]=o[Ve].concat(n.modifiers[Ve]),o[tt]=n.modifiers[tt],o[et]=n.modifiers[et],o[Xe]=n.modifiers[Xe]),o}(n,Te(),Qe()),o=function(e){var t={};return Object.entries(e).forEach(function(e){var n=e[0],r=e[1];t[n]=Ue(r)}),t}(n.modifiers),a=ie(ie({},r),o);return e.jsx(rt.Provider,{value:a,children:t.children})}function at(){var e=x.useContext(rt);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function st(e,t){return t.some(function(t){if("boolean"==typeof t)return t;if(W(t))return U(e,t);var n,r,o,a,s;if(function(e){return Array.isArray(e)&&e.every(W)}(t))return t.includes(e);if(function(e){return Boolean(e&&"object"==typeof e&&"from"in e)}(t))return n=e,a=(r=t).from,s=r.to,a&&s?(P(s,a)<0&&(a=(o=[s,a])[0],s=o[1]),P(n,a)>=0&&P(s,n)>=0):s?U(s,n):!!a&&U(a,n);if(function(e){return Boolean(e&&"object"==typeof e&&"dayOfWeek"in e)}(t))return t.dayOfWeek.includes(e.getDay());if(function(e){return Boolean(e&&"object"==typeof e&&"before"in e&&"after"in e)}(t)){var i=P(t.before,e)>0,l=P(t.after,e)<0;return te(t.before,t.after)?l&&i:i||l}return function(e){return Boolean(e&&"object"==typeof e&&"after"in e)}(t)?P(e,t.after)>0:function(e){return Boolean(e&&"object"==typeof e&&"before"in e)}(t)?P(t.before,e)>0:"function"==typeof t&&t(e)})}function it(e,t,n){var r=Object.keys(t).reduce(function(n,r){var o=t[r];return st(e,o)&&n.push(r),n},[]),o={};return r.forEach(function(e){return o[e]=!0}),n&&!re(e,n)&&(o.outside=!0),o}function lt(e,t){var n=t.moveBy,r=t.direction,o=t.context,a=t.modifiers,s=t.retry,i=void 0===s?{count:0,lastFocused:e}:s,l=o.weekStartsOn,d=o.fromDate,u=o.toDate,c=o.locale,f={day:H,week:z,month:$,year:Q,startOfWeek:function(e){return o.ISOWeek?F(e):N(e,{locale:c,weekStartsOn:l})},endOfWeek:function(e){return o.ISOWeek?X(e):J(e,{locale:c,weekStartsOn:l})}}[n](e,"after"===r?1:-1);"before"===r&&d?f=function(e){let t;return e.forEach(function(e){const n=w(e);(void 0===t||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}([d,f]):"after"===r&&u&&(f=function(e){let t;return e.forEach(e=>{const n=w(e);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}([u,f]));var p=!0;if(a){var v=it(f,a);p=!v.disabled&&!v.hidden}return p?f:i.count>365?i.lastFocused:lt(f,{moveBy:n,direction:r,context:o,modifiers:a,retry:ie(ie({},i),{count:i.count+1})})}var dt=x.createContext(void 0);function ut(t){var n=Me(),r=at(),o=x.useState(),a=o[0],s=o[1],i=x.useState(),l=i[0],d=i[1],u=function(e,t){for(var n,r,o=G(e[0]),a=V(e[e.length-1]),s=o;s<=a;){var i=it(s,t);if(i.disabled||i.hidden)s=H(s,1);else{if(i.selected)return s;i.today&&!r&&(r=s),n||(n=s),s=H(s,1)}}return r||n}(n.displayMonths,r),c=(null!=a?a:l&&n.isDateDisplayed(l))?l:u,f=function(e){s(e)},p=ye(),v=function(e,t){if(a){var o=lt(a,{moveBy:e,direction:t,context:p,modifiers:r});U(a,o)||(n.goToDate(o,a),f(o))}},m={focusedDay:a,focusTarget:c,blur:function(){d(a),s(void 0)},focus:f,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return e.jsx(dt.Provider,{value:m,children:t.children})}function ct(){var e=x.useContext(dt);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}var ft=x.createContext(void 0);function pt(t){if(!ce(t.initialProps)){return e.jsx(ft.Provider,{value:{selected:void 0},children:t.children})}return e.jsx(vt,{initialProps:t.initialProps,children:t.children})}function vt(t){var n=t.initialProps,r=t.children,o={selected:n.selected,onDayClick:function(e,t,r){var o,a,s;null===(o=n.onDayClick)||void 0===o||o.call(n,e,t,r),!t.selected||n.required?null===(s=n.onSelect)||void 0===s||s.call(n,e,e,t,r):null===(a=n.onSelect)||void 0===a||a.call(n,void 0,e,t,r)}};return e.jsx(ft.Provider,{value:o,children:r})}function mt(){var e=x.useContext(ft);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function ht(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(t){var r=e.modifiersClassNames[t];if(r)n.push(r);else if(function(e){return Object.values(qe).includes(e)}(t)){var o=e.classNames["day_".concat(t)];o&&n.push(o)}}),n}function yt(t,n,r){var o,a,s,i=ye(),l=ct(),d=function(e,t){return it(e,at(),t)}(t,n),u=function(e,t){var n=ye(),r=mt(),o=Te(),a=Qe(),s=ct(),i=s.focusDayAfter,l=s.focusDayBefore,d=s.focusWeekAfter,u=s.focusWeekBefore,c=s.blur,f=s.focus,p=s.focusMonthBefore,v=s.focusMonthAfter,m=s.focusYearBefore,h=s.focusYearAfter,y=s.focusStartOfWeek,b=s.focusEndOfWeek;return{onClick:function(s){var i,l,d,u;ce(n)?null===(i=r.onDayClick)||void 0===i||i.call(r,e,t,s):de(n)?null===(l=o.onDayClick)||void 0===l||l.call(o,e,t,s):ue(n)?null===(d=a.onDayClick)||void 0===d||d.call(a,e,t,s):null===(u=n.onDayClick)||void 0===u||u.call(n,e,t,s)},onFocus:function(r){var o;f(e),null===(o=n.onDayFocus)||void 0===o||o.call(n,e,t,r)},onBlur:function(r){var o;c(),null===(o=n.onDayBlur)||void 0===o||o.call(n,e,t,r)},onKeyDown:function(r){var o;switch(r.key){case"ArrowLeft":r.preventDefault(),r.stopPropagation(),"rtl"===n.dir?i():l();break;case"ArrowRight":r.preventDefault(),r.stopPropagation(),"rtl"===n.dir?l():i();break;case"ArrowDown":r.preventDefault(),r.stopPropagation(),d();break;case"ArrowUp":r.preventDefault(),r.stopPropagation(),u();break;case"PageUp":r.preventDefault(),r.stopPropagation(),r.shiftKey?m():p();break;case"PageDown":r.preventDefault(),r.stopPropagation(),r.shiftKey?h():v();break;case"Home":r.preventDefault(),r.stopPropagation(),y();break;case"End":r.preventDefault(),r.stopPropagation(),b()}null===(o=n.onDayKeyDown)||void 0===o||o.call(n,e,t,r)},onKeyUp:function(r){var o;null===(o=n.onDayKeyUp)||void 0===o||o.call(n,e,t,r)},onMouseEnter:function(r){var o;null===(o=n.onDayMouseEnter)||void 0===o||o.call(n,e,t,r)},onMouseLeave:function(r){var o;null===(o=n.onDayMouseLeave)||void 0===o||o.call(n,e,t,r)},onPointerEnter:function(r){var o;null===(o=n.onDayPointerEnter)||void 0===o||o.call(n,e,t,r)},onPointerLeave:function(r){var o;null===(o=n.onDayPointerLeave)||void 0===o||o.call(n,e,t,r)},onTouchCancel:function(r){var o;null===(o=n.onDayTouchCancel)||void 0===o||o.call(n,e,t,r)},onTouchEnd:function(r){var o;null===(o=n.onDayTouchEnd)||void 0===o||o.call(n,e,t,r)},onTouchMove:function(r){var o;null===(o=n.onDayTouchMove)||void 0===o||o.call(n,e,t,r)},onTouchStart:function(r){var o;null===(o=n.onDayTouchStart)||void 0===o||o.call(n,e,t,r)}}}(t,d),c=function(){var e=ye(),t=mt(),n=Te(),r=Qe();return ce(e)?t.selected:de(e)?n.selected:ue(e)?r.selected:void 0}(),f=Boolean(i.onDayClick||"default"!==i.mode);x.useEffect(function(){var e;d.outside||l.focusedDay&&f&&U(l.focusedDay,t)&&(null===(e=r.current)||void 0===e||e.focus())},[l.focusedDay,t,r,f,d.outside]);var p=ht(i,d).join(" "),v=function(e,t){var n=ie({},e.styles.day);return Object.keys(t).forEach(function(t){var r;n=ie(ie({},n),null===(r=e.modifiersStyles)||void 0===r?void 0:r[t])}),n}(i,d),m=Boolean(d.outside&&!i.showOutsideDays||d.hidden),h=null!==(s=null===(a=i.components)||void 0===a?void 0:a.DayContent)&&void 0!==s?s:Re,y={style:v,className:p,children:e.jsx(h,{date:t,displayMonth:n,activeModifiers:d}),role:"gridcell"},b=l.focusTarget&&U(l.focusTarget,t)&&!d.outside,g=l.focusedDay&&U(l.focusedDay,t),w=ie(ie(ie({},y),((o={disabled:d.disabled,role:"gridcell"})["aria-selected"]=d.selected,o.tabIndex=g||b?0:-1,o)),u);return{isButton:f,isHidden:m,activeModifiers:d,selectedDays:c,buttonProps:w,divProps:y}}function bt(t){var n=x.useRef(null),r=yt(t.date,t.displayMonth,n);return r.isHidden?e.jsx("div",{role:"gridcell"}):r.isButton?e.jsx(Oe,ie({name:"day",ref:n},r.buttonProps)):e.jsx("div",ie({},r.divProps))}function gt(t){var n=t.number,r=t.dates,o=ye(),a=o.onWeekNumberClick,s=o.styles,i=o.classNames,l=o.locale,d=o.labels.labelWeekNumber,u=(0,o.formatters.formatWeekNumber)(Number(n),{locale:l});if(!a)return e.jsx("span",{className:i.weeknumber,style:s.weeknumber,children:u});var c=d(Number(n),{locale:l});return e.jsx(Oe,{name:"week-number","aria-label":c,className:i.weeknumber,style:s.weeknumber,onClick:function(e){a(n,r,e)},children:u})}function xt(t){var n,r,o,a=ye(),s=a.styles,i=a.classNames,l=a.showWeekNumber,d=a.components,u=null!==(n=null==d?void 0:d.Day)&&void 0!==n?n:bt,c=null!==(r=null==d?void 0:d.WeekNumber)&&void 0!==r?r:gt;return l&&(o=e.jsx("td",{className:i.cell,style:s.cell,children:e.jsx(c,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:i.row,style:s.row,children:[o,t.dates.map(function(n){return e.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:e.jsx(u,{displayMonth:t.displayMonth,date:n})},function(e){return Math.trunc(+w(e)/1e3)}(n))})]})}function wt(e,t,n){for(var r=(null==n?void 0:n.ISOWeek)?X(t):J(t,n),o=(null==n?void 0:n.ISOWeek)?F(e):N(e,n),a=P(r,o),s=[],i=0;i<=a;i++)s.push(H(o,i));return s.reduce(function(e,t){var r=(null==n?void 0:n.ISOWeek)?E(t):L(t,n),o=e.find(function(e){return e.weekNumber===r});return o?(o.dates.push(t),e):(e.push({weekNumber:r,dates:[t]}),e)},[])}function _t(t){var n,r,o,a=ye(),s=a.locale,i=a.classNames,l=a.styles,d=a.hideHead,u=a.fixedWeeks,c=a.components,f=a.weekStartsOn,p=a.firstWeekContainsDate,v=a.ISOWeek,m=function(e,t){var n=wt(G(e),V(e),t);if(null==t?void 0:t.useFixedWeeks){var r=ee(e,t);if(r<6){var o=n[n.length-1],a=o.dates[o.dates.length-1],s=z(a,6-r),i=wt(z(a,1),s,t);n.push.apply(n,i)}}return n}(t.displayMonth,{useFixedWeeks:Boolean(u),ISOWeek:v,locale:s,weekStartsOn:f,firstWeekContainsDate:p}),h=null!==(n=null==c?void 0:c.Head)&&void 0!==n?n:Ie,y=null!==(r=null==c?void 0:c.Row)&&void 0!==r?r:xt,b=null!==(o=null==c?void 0:c.Footer)&&void 0!==o?o:Le;return e.jsxs("table",{id:t.id,className:i.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!d&&e.jsx(h,{}),e.jsx("tbody",{className:i.tbody,style:l.tbody,children:m.map(function(n){return e.jsx(y,{displayMonth:t.displayMonth,dates:n.dates,weekNumber:n.weekNumber},n.weekNumber)})}),e.jsx(b,{displayMonth:t.displayMonth})]})}var jt="undefined"!=typeof window&&window.document&&window.document.createElement?x.useLayoutEffect:x.useEffect,Nt=!1,Dt=0;function Mt(){return"react-day-picker-".concat(++Dt)}function kt(t){var n,r,o=ye(),a=o.dir,s=o.classNames,i=o.styles,l=o.components,d=Me().displayMonths,u=function(e){var t,n=null!=e?e:Nt?Mt():null,r=x.useState(n),o=r[0],a=r[1];return jt(function(){null===o&&a(Mt())},[]),x.useEffect(function(){!1===Nt&&(Nt=!0)},[]),null!==(t=null!=e?e:o)&&void 0!==t?t:void 0}(o.id?"".concat(o.id,"-").concat(t.displayIndex):void 0),c=o.id?"".concat(o.id,"-grid-").concat(t.displayIndex):void 0,f=[s.month],p=i.month,v=0===t.displayIndex,m=t.displayIndex===d.length-1,h=!v&&!m;"rtl"===a&&(m=(n=[v,m])[0],v=n[1]),v&&(f.push(s.caption_start),p=ie(ie({},p),i.caption_start)),m&&(f.push(s.caption_end),p=ie(ie({},p),i.caption_end)),h&&(f.push(s.caption_between),p=ie(ie({},p),i.caption_between));var y=null!==(r=null==l?void 0:l.Caption)&&void 0!==r?r:Ee;return e.jsxs("div",{className:f.join(" "),style:p,children:[e.jsx(y,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(_t,{id:c,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function Ct(t){var n=ye(),r=n.classNames,o=n.styles;return e.jsx("div",{className:r.months,style:o.months,children:t.children})}function Pt(t){var n,r,o=t.initialProps,a=ye(),s=ct(),i=Me(),l=x.useState(!1),d=l[0],u=l[1];x.useEffect(function(){a.initialFocus&&s.focusTarget&&(d||(s.focus(s.focusTarget),u(!0)))},[a.initialFocus,d,s.focus,s.focusTarget,s]);var c=[a.classNames.root,a.className];a.numberOfMonths>1&&c.push(a.classNames.multiple_months),a.showWeekNumber&&c.push(a.classNames.with_weeknumber);var f=ie(ie({},a.styles.root),a.style),p=Object.keys(o).filter(function(e){return e.startsWith("data-")}).reduce(function(e,t){var n;return ie(ie({},e),((n={})[t]=o[t],n))},{}),v=null!==(r=null===(n=o.components)||void 0===n?void 0:n.Months)&&void 0!==r?r:Ct;return e.jsx("div",ie({className:c.join(" "),style:f,dir:a.dir,id:a.id,nonce:o.nonce,title:o.title,lang:o.lang},p,{children:e.jsx(v,{children:i.displayMonths.map(function(t,n){return e.jsx(kt,{displayIndex:n,displayMonth:t},n)})})}))}function Ot(t){var n=t.children,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["children"]);return e.jsx(he,{initialProps:r,children:e.jsx(De,{children:e.jsx(pt,{initialProps:r,children:e.jsx(Ye,{initialProps:r,children:e.jsx($e,{initialProps:r,children:e.jsx(ot,{children:e.jsx(ut,{children:n})})})})})})})}function St(t){return e.jsx(Ot,ie({},t,{children:e.jsx(Pt,{initialProps:t})}))}function Ft({className:t,classNames:n,showOutsideDays:r=!0,...o}){return e.jsx(St,{showOutsideDays:r,className:I("p-3",t),locale:C,weekStartsOn:1,dir:"ltr",classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:I(A({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:I(A({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...n},components:{IconLeft:({...t})=>e.jsx(B,{className:"h-4 w-4"}),IconRight:({...t})=>e.jsx(Y,{className:"h-4 w-4"})},...o})}function Et(t){const n=Lt(t),r=x.forwardRef((t,r)=>{const{children:o,...a}=t,s=x.Children.toArray(o),i=s.find(It);if(i){const t=i.props.children,o=s.map(e=>e===i?x.Children.count(t)>1?x.Children.only(null):x.isValidElement(t)?t.props.children:null:e);return e.jsx(n,{...a,ref:r,children:x.isValidElement(t)?x.cloneElement(t,void 0,o):null})}return e.jsx(n,{...a,ref:r,children:o})});return r.displayName=`${t}.Slot`,r}function Lt(e){const n=x.forwardRef((e,n)=>{const{children:r,...o}=e;if(x.isValidElement(r)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(r),a=function(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...e)=>{const t=a(...e);return o(...e),t}:o&&(n[r]=o):"style"===r?n[r]={...o,...a}:"className"===r&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}(o,r.props);return r.type!==x.Fragment&&(a.ref=n?t(n,e):e),x.cloneElement(r,a)}return x.Children.count(r)>1?x.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}Ft.displayName="Calendar";var Wt=Symbol("radix.slottable");function It(e){return x.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Wt}var Rt="Popover",[At]=a(Rt,[n]),Yt=n(),[Bt,Tt]=At(Rt),qt=t=>{const{__scopePopover:n,children:a,open:i,defaultOpen:l,onOpenChange:d,modal:u=!1}=t,c=Yt(n),f=x.useRef(null),[p,v]=x.useState(!1),[m,h]=r({prop:i,defaultProp:l??!1,onChange:d,caller:Rt});return e.jsx(o,{...c,children:e.jsx(Bt,{scope:n,contentId:s(),triggerRef:f,open:m,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(e=>!e),[h]),hasCustomAnchor:p,onCustomAnchorAdd:x.useCallback(()=>v(!0),[]),onCustomAnchorRemove:x.useCallback(()=>v(!1),[]),modal:u,children:a})})};qt.displayName=Rt;var Kt="PopoverAnchor";x.forwardRef((t,n)=>{const{__scopePopover:r,...o}=t,a=Tt(Kt,r),s=Yt(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(i(),()=>l()),[i,l]),e.jsx(u,{...s,...o,ref:n})}).displayName=Kt;var Ht="PopoverTrigger",$t=x.forwardRef((t,n)=>{const{__scopePopover:r,...o}=t,a=Tt(Ht,r),s=Yt(r),c=i(n,a.triggerRef),f=e.jsx(l.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":rn(a.open),...o,ref:c,onClick:d(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?f:e.jsx(u,{asChild:!0,...s,children:f})});$t.displayName=Ht;var zt="PopoverPortal",[Qt,Ut]=At(zt,{forceMount:void 0}),Zt=t=>{const{__scopePopover:n,forceMount:r,children:o,container:a}=t,s=Tt(zt,n);return e.jsx(Qt,{scope:n,forceMount:r,children:e.jsx(c,{present:r||s.open,children:e.jsx(f,{asChild:!0,container:a,children:o})})})};Zt.displayName=zt;var Vt="PopoverContent",Gt=x.forwardRef((t,n)=>{const r=Ut(Vt,t.__scopePopover),{forceMount:o=r.forceMount,...a}=t,s=Tt(Vt,t.__scopePopover);return e.jsx(c,{present:o||s.open,children:s.modal?e.jsx(Xt,{...a,ref:n}):e.jsx(en,{...a,ref:n})})});Gt.displayName=Vt;var Jt=Et("PopoverContent.RemoveScroll"),Xt=x.forwardRef((t,n)=>{const r=Tt(Vt,t.__scopePopover),o=x.useRef(null),a=i(n,o),s=x.useRef(!1);return x.useEffect(()=>{const e=o.current;if(e)return p(e)},[]),e.jsx(v,{as:Jt,allowPinchZoom:!0,children:e.jsx(tn,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:d(t.onCloseAutoFocus,e=>{e.preventDefault(),s.current||r.triggerRef.current?.focus()}),onPointerDownOutside:d(t.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;s.current=r},{checkForDefaultPrevented:!1}),onFocusOutside:d(t.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),en=x.forwardRef((t,n)=>{const r=Tt(Vt,t.__scopePopover),o=x.useRef(!1),a=x.useRef(!1);return e.jsx(tn,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:e=>{t.onCloseAutoFocus?.(e),e.defaultPrevented||(o.current||r.triggerRef.current?.focus(),e.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:e=>{t.onInteractOutside?.(e),e.defaultPrevented||(o.current=!0,"pointerdown"===e.detail.originalEvent.type&&(a.current=!0));const n=e.target,s=r.triggerRef.current?.contains(n);s&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&a.current&&e.preventDefault()}})}),tn=x.forwardRef((t,n)=>{const{__scopePopover:r,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:c,...f}=t,p=Tt(Vt,r),v=Yt(r);return m(),e.jsx(h,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:s,children:e.jsx(y,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:c,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:e.jsx(b,{"data-state":rn(p.open),role:"dialog",id:p.contentId,...v,...f,ref:n,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),nn="PopoverClose";x.forwardRef((t,n)=>{const{__scopePopover:r,...o}=t,a=Tt(nn,r);return e.jsx(l.button,{type:"button",...o,ref:n,onClick:d(t.onClick,()=>a.onOpenChange(!1))})}).displayName=nn;function rn(e){return e?"open":"closed"}x.forwardRef((t,n)=>{const{__scopePopover:r,...o}=t,a=Yt(r);return e.jsx(g,{...a,...o,ref:n})}).displayName="PopoverArrow";var on=Zt,an=Gt;const sn=qt,ln=$t,dn=x.forwardRef(({className:t,align:n="center",sideOffset:r=4,...o},a)=>e.jsx(on,{children:e.jsx(an,{ref:a,align:n,sideOffset:r,className:I("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...o})}));function un({page:e,pageSize:t=20,searchQuery:n,status:r,deliveryType:o,wilaya:a,store:s,fromDate:i,toDate:l}){return K({queryKey:["orders",{page:e,pageSize:t,searchQuery:n,status:r,deliveryType:o,wilaya:a,store:s,fromDate:i,toDate:l}],queryFn:async()=>{const d=(e-1)*t,u=d+t-1;let c=R.from("orders").select("\n          *,\n          items:order_items(\n            *,\n            products(name_ar, name_fr)\n          )\n        ");n&&(c=c.or(`order_number.ilike.%${n}%,customer_name.ilike.%${n}%,customer_phone.ilike.%${n}%`)),r&&"all"!==r&&(c=c.eq("status",r)),o&&"all"!==o&&(c=c.eq("delivery_type",o)),a&&"all"!==a&&(c=c.eq("wilaya_name",a)),s&&"all"!==s&&(c=c.eq("send_from_store",s)),i&&(c=c.gte("created_at",i)),l&&(c=c.lte("created_at",l));const{data:f,error:p,count:v}=await c.order("created_at",{ascending:!1}).range(d,u);if(p)throw p;return{data:f,count:v}}})}function cn({searchQuery:e,status:t,deliveryType:n,wilaya:r,store:o,fromDate:a,toDate:s}){return K({queryKey:["orders",{searchQuery:e,status:t,deliveryType:n,wilaya:r,store:o,fromDate:a,toDate:s}],queryFn:async()=>{let i=R.from("orders").select("\n          *,\n          items:order_items(\n            *,\n            products(name_ar, name_fr)\n          )\n        ");e&&(i=i.or(`order_number.ilike.%${e}%,customer_name.ilike.%${e}%,customer_phone.ilike.%${e}%`)),t&&"all"!==t&&(i=i.eq("status",t)),n&&"all"!==n&&(i=i.eq("delivery_type",n)),r&&"all"!==r&&(i=i.eq("wilaya_name",r)),o&&"all"!==o&&(i=i.eq("send_from_store",o)),a&&(i=i.gte("created_at",a)),s&&(i=i.lte("created_at",s));const{data:l,error:d}=await i.order("created_at",{ascending:!1});if(d)throw d;return l},enabled:!1})}function fn(e,t){return K({queryKey:["orders",{from:e,to:t}],queryFn:async()=>{const{data:n,error:r}=await R.from("orders").select("\n          *,\n          items:order_items(*)\n        ").gte("created_at",e.toISOString()).lte("created_at",t.toISOString()).order("created_at",{ascending:!1});if(r)throw r;const o=new Set(n.map(e=>`${e.wilaya_code}-${e.send_from_store}`)),a=Array.from(o).map(e=>{const[t,n]=e.split("-");return R.from("tariffs").select("retour").eq("wilaya_code",parseInt(t)).eq("store",n).maybeSingle()}),s=await Promise.all(a),i=new Map(s.map((e,t)=>[Array.from(o)[t],e.data?.retour||0]));return n.map(e=>({...e,tariff_retour_price:i.get(`${e.wilaya_code}-${e.send_from_store}`)||0}))}})}function pn(){const e=T();return q({mutationFn:async({id:e,status:t})=>{const{error:n}=await R.from("orders").update({status:t}).eq("id",e);if(n)throw n;return e},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]})}})}function vn(){const e=T();return q({mutationFn:async({ids:e,status:t})=>{const{error:n}=await R.from("orders").update({status:t}).in("id",e);if(n)throw n;return e},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]})}})}function mn(){const e=T();return q({mutationFn:async e=>{const{error:t}=await R.from("orders").delete().in("id",e);if(t)throw t;return e},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]})}})}function hn(){const e=T();return q({mutationFn:async({id:e,data:t})=>{const{error:n}=await R.from("orders").update(t).eq("id",e);if(n)throw n;return e},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]}),e.invalidateQueries({queryKey:["all-orders"]})}})}function yn(){const e=T();return q({mutationFn:async e=>{const{items:t,...n}=e,{data:r,error:o}=await R.from("orders").insert(n).select().single();if(o)throw o;if(t&&t.length>0){const e=t.map(e=>({...e,order_id:r.id})),{error:n}=await R.from("order_items").insert(e);if(n)throw await R.from("orders").delete().eq("id",r.id),n}return r},onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]}),e.invalidateQueries({queryKey:["all-orders"]})}})}dn.displayName=an.displayName;export{Ft as C,sn as P,ln as a,dn as b,G as c,fn as d,V as e,un as f,pn as g,vn as h,U as i,mn as j,cn as k,hn as l,oe as s,yn as u};
