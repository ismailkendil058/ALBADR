import{d as E,r as D,j as e,L as H,a as I}from"./index-CzubCIAQ.js";import{T as M,H as V,F as _}from"./Footer-CilkyfpT.js";import{P as w}from"./ProductCard-BpFJZaie.js";import{d as z,u as G,a as O,b as R}from"./useProducts-C81J7_oK.js";import{P as Z,a as q,b as u,c as J,d as K,e as Q}from"./pagination-DyxH1k2Q.js";import{C as U}from"./chevron-left-BGd0fdBh.js";import"./phone-DI7nenCY.js";import"./button-mNsHMIkq.js";import"./input-ahHenGQ4.js";import"./useCategories-Cm_Vywgk.js";import"./useMutation-CjuJ8xHN.js";import"./trash-2-CCtYTIZv.js";import"./plus-BzMTRC6J.js";import"./search-Dw77sz4D.js";import"./shopping-cart-D5pO5u7i.js";import"./menu-D5TOuNLq.js";import"./chevron-down-BXaytb_p.js";import"./map-pin-DhvFFu32.js";import"./mail-EpMK5nIF.js";import"./chevron-right-DG9mifTY.js";const he=()=>{const[p,f]=E(),c=p.get("section"),j=parseInt(p.get("page")||"1",10),[o,P]=D.useState(j);let i="All Products",d="Tous les Produits";const g=16,{data:h,isLoading:N,error:v}=z({page:o,pageSize:g}),{data:y,isLoading:L,error:b}=G(),{data:S,isLoading:C,error:A}=O(),{data:F,isLoading:T,error:k}=R();let t=[],n=!1,r=null,l=0;c==="featured"?(t=y||[],l=t.length,i="Featured Products",d="Produits en Vedette",n=L,r=b):c==="bestsellers"?(t=S||[],l=t.length,i="Best Sellers",d="Meilleures Ventes",n=C,r=A):c==="promo"?(t=F||[],l=t.length,i="Special Offers",d="Promotions SpÃ©ciales",n=T,r=k):(t=h?.data||[],l=h?.count||0,i="All Products",d="Tous les Produits",n=N,r=v);const m=Math.ceil(l/g),x=s=>{s<1||s>m||(P(s),f(a=>(a.set("page",s.toString()),a)),window.scrollTo(0,0))};return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(M,{}),e.jsx(V,{}),e.jsxs("main",{className:"flex-1",children:[e.jsx("div",{className:"bg-muted/50 py-3",children:e.jsx("div",{className:"container",children:e.jsxs("nav",{className:"flex items-center gap-2 text-sm font-body text-muted-foreground",children:[e.jsx(H,{to:"/",className:"hover:text-primary transition-colors",children:"Home"}),e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{className:"text-foreground",children:i})]})})}),e.jsx("section",{className:"py-12",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-arabic-display font-bold text-secondary",children:i}),e.jsx("p",{className:"text-muted-foreground font-french mt-1",children:d}),!n&&!r&&e.jsxs("p",{className:"text-sm text-muted-foreground font-body mt-2",children:[l," products"]})]}),n?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(I,{className:"w-8 h-8 animate-spin text-primary"})}):r?e.jsx("div",{className:"text-center py-12",children:e.jsxs("p",{className:"text-destructive font-body",children:["Error loading products: ",r.message]})}):t.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:t.map(s=>e.jsx(w,{product:s},s.id))}),!c&&m>1&&e.jsx("div",{className:"mt-12",children:e.jsx(Z,{children:e.jsxs(q,{children:[e.jsx(u,{children:e.jsx(J,{href:"#",onClick:s=>{s.preventDefault(),x(o-1)},className:o===1?"pointer-events-none text-muted-foreground":""})}),[...Array(m)].map((s,a)=>e.jsx(u,{children:e.jsx(K,{href:"#",onClick:B=>{B.preventDefault(),x(a+1)},isActive:o===a+1,children:a+1})},a)),e.jsx(u,{children:e.jsx(Q,{href:"#",onClick:s=>{s.preventDefault(),x(o+1)},className:o===m?"pointer-events-none text-muted-foreground":""})})]})})})]}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground font-body",children:"No products available"})})]})})]}),e.jsx(_,{})]})};export{he as default};
