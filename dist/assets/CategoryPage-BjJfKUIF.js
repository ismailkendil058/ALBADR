import{u as H,d as w,r as D,j as e,a as g,L as m}from"./index-DJa8JmTm.js";import{T as n,H as o,F as c}from"./Footer-BGvRZbxI.js";import{P as I}from"./ProductCard-C6yhs7kG.js";import{u as A}from"./useCategories-CEjqWL0Z.js";import{e as F}from"./useProducts-T2pr3msx.js";import{P as G,a as T,b as x,c as z,d as B,e as M}from"./pagination-BSI4Flxg.js";import{C as R}from"./chevron-left-Bv7kFfeV.js";import"./phone-BCYrnSCU.js";import"./button-DQkp_F6k.js";import"./input-CNvN4VzI.js";import"./trash-2-DCfUe7bk.js";import"./plus-BDCGZCab.js";import"./search-CWP1OLDI.js";import"./shopping-cart-Dqs4meVC.js";import"./menu-DEdQtXwr.js";import"./chevron-down-Dn-4MBn6.js";import"./map-pin-DSo7UTKA.js";import"./mail-CP9QOdLy.js";import"./useMutation-wRGvQ37d.js";import"./chevron-right-7HFw8PeQ.js";const u=16,ce=()=>{const{categoryId:h}=H(),[N,y]=w(),v=parseInt(N.get("page")||"1",10),[a,P]=D.useState(v),{categories:b,isLoading:C,error:L}=A(),{data:S,isLoading:f,error:_}=F({categoryId:h,page:a,pageSize:u}),{data:l=[],count:j=0}=S||{},r=b?.find(s=>s.id===h),k=C||f,p=L||_,t=Math.ceil(j/u),d=s=>{s<1||s>t||(P(s),y({page:s.toString()}),window.scrollTo(0,0))};return k&&!r?e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(n,{}),e.jsx(o,{}),e.jsx("main",{className:"flex-1 flex items-center justify-center",children:e.jsx(g,{className:"w-8 h-8 animate-spin text-primary"})}),e.jsx(c,{})]}):p?e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(n,{}),e.jsx(o,{}),e.jsx("main",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-arabic-display mb-4",children:"Error loading data"}),e.jsx("p",{className:"text-destructive font-body",children:p.message}),e.jsx(m,{to:"/",className:"text-primary hover:underline font-body",children:"Go to Home"})]})}),e.jsx(c,{})]}):r?e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(n,{}),e.jsx(o,{}),e.jsxs("main",{className:"flex-1",children:[e.jsx("div",{className:"bg-muted/50 py-3",children:e.jsx("div",{className:"container",children:e.jsxs("nav",{className:"flex items-center gap-2 text-sm font-body text-muted-foreground",children:[e.jsx(m,{to:"/",className:"hover:text-primary transition-colors",children:"Home"}),e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{className:"text-foreground",children:r.name_ar})]})})}),e.jsxs("section",{className:"relative h-[200px] md:h-[250px] overflow-hidden",children:[e.jsx("img",{loading:"lazy",decoding:"async",src:r.image||"/placeholder.svg",alt:r.name_ar,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-secondary/60 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-arabic-display font-bold text-primary-foreground mb-2",children:r.name_ar}),e.jsx("p",{className:"text-lg font-french text-primary-foreground/80",children:r.name_fr}),e.jsxs("p",{className:"text-sm font-body text-primary-foreground/70 mt-2",children:[j," products"]})]})})]}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container",children:f?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(g,{className:"w-8 h-8 animate-spin text-primary"})}):l&&l.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:l.map(s=>e.jsx(I,{product:s},s.id))}),t>1&&e.jsx("div",{className:"mt-12",children:e.jsx(G,{children:e.jsxs(T,{children:[e.jsx(x,{children:e.jsx(z,{href:"#",onClick:s=>{s.preventDefault(),d(a-1)},className:a===1?"pointer-events-none text-muted-foreground":""})}),[...Array(t)].map((s,i)=>e.jsx(x,{children:e.jsx(B,{href:"#",onClick:E=>{E.preventDefault(),d(i+1)},isActive:a===i+1,children:i+1})},i)),e.jsx(x,{children:e.jsx(M,{href:"#",onClick:s=>{s.preventDefault(),d(a+1)},className:a===t?"pointer-events-none text-muted-foreground":""})})]})})})]}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground font-body",children:"No products in this category yet"})})})})]}),e.jsx(c,{})]}):e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(n,{}),e.jsx(o,{}),e.jsx("main",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-arabic-display mb-4",children:"Category not found"}),e.jsx(m,{to:"/",className:"text-primary hover:underline font-body",children:"Go to Home"})]})}),e.jsx(c,{})]})};export{ce as default};
